# –°–µ—Ä–≤–∏—Å –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π

–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä—è–¥—É –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –∫–∞—á–µ—Å—Ç–≤–∞. –í —Å–æ—Å—Ç–∞–≤–µ —Ä–µ—à–µ–Ω–∏—è –∏–º–µ–µ—Ç—Å—è API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∏—Ö –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –ø—Ä–∞–≤–∏–ª–∞–º –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏.

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∞—Å–ø–µ–∫—Ç–æ–≤ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π. –°—é–¥–∞ –≤—Ö–æ–¥—è—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ), –∞–Ω–∞–ª–∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ (–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–∏—Ü–∞), –∞ —Ç–∞–∫–∂–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ (—Ä–µ–∑–∫–æ—Å—Ç—å, –æ—Å–≤–µ—â–µ–Ω–∏–µ, –æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å —Ñ–æ–Ω–∞).

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–°–µ—Ä–≤–∏—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –º–Ω–æ–≥–æ—Å—Ç—É–ø–µ–Ω—á–∞—Ç—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º:

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------------------|-------------|
| –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∞–π–ª–∞ | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (JPEG, PNG, WebP, BMP, TIFF) –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º |
| –ì–µ–æ–º–µ—Ç—Ä–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ø–æ —à–∏—Ä–∏–Ω–µ –∏ –≤—ã—Å–æ—Ç–µ |
| –¶–≤–µ—Ç–æ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–≤–µ—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –º–æ–Ω–æ—Ö—Ä–æ–º–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—É—Ç–µ–º –∞–Ω–∞–ª–∏–∑–∞ –∫–∞–Ω–∞–ª–æ–≤ –∏ –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç–∏ |
| –ê–Ω–∞–ª–∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ | –ü–æ–∏—Å–∫ –ª–∏—Ü –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ä–æ–≤–Ω–æ –æ–¥–Ω–æ–≥–æ –ª–∏—Ü–∞ –≤ –∫–∞–¥—Ä–µ |
| –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–∏—Ü–∞ | –û—Ü–µ–Ω–∫–∞ –ø–æ–ª–æ–∂–µ–Ω–∏—è –∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –ª–∏—Ü–∞ –≤ —Ä–∞–º–∫–∞—Ö –∫–∞–¥—Ä–∞ |
| –ü–æ–∑–∞ –ª–∏—Ü–∞ | –ê–Ω–∞–ª–∏–∑ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –ª–∏—Ü–∞ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è (–∞–Ω—Ñ–∞—Å) |
| –ê–Ω–∞–ª–∏–∑ —Ñ–æ–Ω–∞ | –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç–∏ —Ñ–æ–Ω–∞ –∏ –ø–æ–∏—Å–∫ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã—Ö —Ç–µ–∫—Å—Ç—É—Ä, –æ–±—ä–µ–∫—Ç–æ–≤ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π |
| –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Å–µ—Å—Å—É–∞—Ä–æ–≤ | –í—ã—è–≤–ª–µ–Ω–∏–µ —Ç–∞–∫–∏—Ö –≤–∏–¥–∏–º—ã—Ö –∞–∫—Å–µ—Å—Å—É–∞—Ä–æ–≤, –∫–∞–∫ –æ—á–∫–∏, –≥–æ–ª–æ–≤–Ω—ã–µ —É–±–æ—Ä—ã –∏–ª–∏ —Ä—É–∫–∏ –≤–±–ª–∏–∑–∏ –ª–∏—Ü–∞ |
| –ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | –û—Ü–µ–Ω–∫–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞, –≤–∫–ª—é—á–∞—è —É—Ä–æ–≤–µ–Ω—å —Ä–µ–∑–∫–æ—Å—Ç–∏ –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Ä–∞–∑–º—ã—Ç—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π |
| –≠—Ñ—Ñ–µ–∫—Ç –∫—Ä–∞—Å–Ω—ã—Ö –≥–ª–∞–∑ | –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ ¬´–∫—Ä–∞—Å–Ω—ã—Ö –≥–ª–∞–∑¬ª, –≤–æ–∑–Ω–∏–∫–∞—é—â–µ–≥–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –≤—Å–ø—ã—à–∫–∏ |
| –ê–Ω–∞–ª–∏–∑ –æ—Å–≤–µ—â–µ–Ω–∏—è | –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Å–≤–µ—â–µ–Ω–∏—è –ª–∏—Ü–∞ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ—Å–≤–µ—Ç–æ–≤, –Ω–µ–¥–æ—ç–∫—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤ –∏ –æ–±–ª–∞—Å—Ç–µ–π —Å –Ω–∏–∑–∫–∏–º –∫–æ–Ω—Ç—Ä–∞—Å—Ç–æ–º |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —ç–≤—Ä–∏—Å—Ç–∏–∫ –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫–∏ |

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|-------------|---------|
| –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ | Docker Engine | –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö |
| –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è | Docker Compose (V2+) | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–æ–º –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ |
| –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä Python | 3.9+ | –ù—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ |
| –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç 2 –ì–ë | –î–ª—è —Ä–∞–±–æ—Ç—ã –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞ –∏ –º–æ–¥–µ–ª–µ–π –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è |
| –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç 1 –ì–ë | –î–ª—è Docker-–æ–±—Ä–∞–∑–∞, –ª–æ–≥–æ–≤, –∫—ç—à–∞ –∏ –º–æ–¥–µ–ª–µ–π |

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–ª—É—á–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π Git:

```bash
git clone https://github.com/borzov/photo-validation-service.git
cd photo-validation-service
```

### –ó–∞–ø—É—Å–∫ —Å –ø–æ–º–æ—â—å—é Docker Compose

Docker Compose –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–µ—Ä–≤–∏—Å–∞:

```bash
docker-compose up -d
```

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã Docker Compose –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

1. –ï—Å–ª–∏ Docker-–æ–±—Ä–∞–∑ –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ `app` –µ—â–µ –Ω–µ –±—ã–ª —Å–æ–±—Ä–∞–Ω –ª–æ–∫–∞–ª—å–Ω–æ, Docker Compose –∑–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `Dockerfile`. –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ, —Ç–∞–∫ –∫–∞–∫ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞ Python –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

2. Docker Compose —Å–æ–∑–¥–∞—Å—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–µ—Ç—å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ `app` –∏ `db`.

3. –ë—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω Docker-—Ç–æ–º —Å –∏–º–µ–Ω–µ–º `postgres_data` (–µ—Å–ª–∏ –æ–Ω –µ—â–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç) –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

4. –ë—É–¥—É—Ç –∑–∞–ø—É—â–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
   - `db`: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL
   - `app`: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º FastAPI (–Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –æ–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ PostgreSQL –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º)

5. –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ Uvicorn, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `app` –≤—ã–ø–æ–ª–Ω–∏—Ç –∫–æ–º–∞–Ω–¥—É `alembic upgrade head`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–º–µ–Ω–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

6. Uvicorn –∑–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ FastAPI, –∫–æ—Ç–æ—Ä–æ–µ —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–º –Ω–∞ –ø–æ—Ä—Ç—É 8000 —Ö–æ—Å—Ç-–º–∞—à–∏–Ω—ã (`http://localhost:8000`).

7. –§–ª–∞–≥ `-d` –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ –æ—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–Ω–æ–º (—Ñ–æ–Ω–æ–≤–æ–º) —Ä–µ–∂–∏–º–µ.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã:

```bash
docker-compose ps
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–±–∞ —Å–µ—Ä–≤–∏—Å–∞ (`app` –∏ `db`) –∏–º–µ—é—Ç —Å—Ç–∞—Ç—É—Å `running` –∏–ª–∏ `up`. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥ `docker-compose logs app` –∏–ª–∏ `docker-compose logs db`.

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –∞ —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Å–µ—Ç–∏:

```bash
docker-compose down
```

–í–∞–∂–Ω–æ —É—á–µ—Å—Ç—å, —á—Ç–æ —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —É–¥–∞–ª—è–µ—Ç Docker-—Ç–æ–º (`postgres_data`), –ø–æ—ç—Ç–æ–º—É –¥–∞–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏. –î–ª—è –ø–æ–ª–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–æ–±–∞–≤—å—Ç–µ —Ñ–ª–∞–≥ `-v`: `docker-compose down -v`.

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

### –≠–Ω–¥–ø–æ–∏–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ (POST /api/v1/validate)

–î–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—É—Ç–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.

| –ê—Ç—Ä–∏–±—É—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-------------|
| HTTP –º–µ—Ç–æ–¥ | `POST` |
| –ü—É—Ç—å | `/api/v1/validate` |
| –ó–∞–≥–æ–ª–æ–≤–∫–∏ | `Content-Type: multipart/form-data` |
| –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ | –§–æ—Ä–º-–¥–∞–Ω–Ω—ã–µ —Å –ø–æ–ª–µ–º `file`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (JPEG, PNG, WebP, BMP, TIFF) |

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º curl:
```bash
curl -X POST "http://localhost:8000/api/v1/validate" \
     -H "Content-Type: multipart/form-data" \
     -F "file=@/–ø—É—Ç—å/–∫/–≤–∞—à–µ–π/—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏.jpg;type=image/jpeg"

# –ò–ª–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:
curl -X POST "http://localhost:8000/api/v1/validate" \
     -F "file=@/–ø—É—Ç—å/–∫/–≤–∞—à–µ–π/—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏.png;type=image/png"
```

–û—Ç–≤–µ—Ç—ã:

1. –ó–∞–ø—Ä–æ—Å –ø—Ä–∏–Ω—è—Ç (202 Accepted): –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —É—Å–ø–µ—à–Ω–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ñ–∞–π–ª–∞ –∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–¥–∞—á–∏ –≤ –æ—á–µ—Ä–µ–¥—å –æ–±—Ä–∞–±–æ—Ç–∫–∏.
   ```json
   {
     "requestId": "ed8a1a4c-a8c8-4b3a-8c4e-7d3b1e9a2f0d"
   }
   ```
   –í–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å `requestId` –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

2. –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å (400 Bad Request): –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞, –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∏ —Ç.–¥.).
   ```json
   {
     "detail": "–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç –≤ 1024 –ö–ë",
     "code": "FILE_TOO_LARGE"
   }
   ```

3. –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (500 Internal Server Error): –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞).
   ```json
   {
     "detail": "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ"
   }
   ```

### –≠–Ω–¥–ø–æ–∏–Ω—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (GET /api/v1/results/{requestId})

–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á–∏ –ø–æ –µ—ë –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.

| –ê—Ç—Ä–∏–±—É—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-------------|
| HTTP –º–µ—Ç–æ–¥ | `GET` |
| –ü—É—Ç—å | `/api/v1/results/{requestId}` |
| –ü–∞—Ä–∞–º–µ—Ç—Ä –ø—É—Ç–∏ | `requestId` (—Å—Ç—Ä–æ–∫–∞): –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–∞ |

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º curl:
```bash
curl -X GET "http://localhost:8000/api/v1/results/ed8a1a4c-a8c8-4b3a-8c4e-7d3b1e9a2f0d"
```

–û—Ç–≤–µ—Ç—ã (200 OK): –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ç–∞—Ç—É—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏.

1. –°—Ç–∞—Ç—É—Å `PENDING` (–í –æ—á–µ—Ä–µ–¥–∏):
   ```json
   {
     "requestId": "ed8a1a4c-a8c8-4b3a-8c4e-7d3b1e9a2f0d",
     "status": "PENDING",
     "overallStatus": null, "processedAt": null, "processingTime": null,
     "checks": null, "issues": null, "errorMessage": null
   }
   ```

2. –°—Ç–∞—Ç—É—Å `PROCESSING` (–í –æ–±—Ä–∞–±–æ—Ç–∫–µ):
   ```json
   {
     "requestId": "ed8a1a4c-a8c8-4b3a-8c4e-7d3b1e9a2f0d",
     "status": "PROCESSING",
     "overallStatus": null, "processedAt": null, "processingTime": null,
     "checks": null, "issues": null, "errorMessage": null
   }
   ```

3. –°—Ç–∞—Ç—É—Å `COMPLETED` (–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞):
   ```json
   // –ü—Ä–∏–º–µ—Ä: –û–¥–æ–±—Ä–µ–Ω–Ω–∞—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è
   {
     "requestId": "ed8a1a4c-a8c8-4b3a-8c4e-7d3b1e9a2f0d",
     "status": "COMPLETED",
     "overallStatus": "APPROVED",
     "createdAt": "2025-05-04T14:10:05.500000",
     "processedAt": "2025-05-04T14:10:07.800000",
     "processingTime": 2.300,
     "checks": [
         // –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ PASSED
         { "check": "faceCount", "status": "PASSED", "reason": null, "details": { "count": 1, ... } }
     ],
     "issues": [],
     "errorMessage": null
   }

   // –ü—Ä–∏–º–µ—Ä: –û—Ç–∫–ª–æ–Ω–µ–Ω–Ω–∞—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è
   {
     "requestId": "f0b9b5d1-b9d9-4c4b-9d5f-8e4c2f0b3e1e",
     "status": "COMPLETED",
     "overallStatus": "REJECTED",
     "createdAt": "2025-05-04T14:12:01.100000",
     "processedAt": "2025-05-04T14:12:03.200000",
     "processingTime": 2.100,
     "checks": [
         { "check": "faceCount", "status": "PASSED", ... },
         { "check": "blurriness", "status": "FAILED", "reason": "Face is blurry", "details": { "laplacian_variance": 35.2 } }
         // –î—Ä—É–≥–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
     ],
     "issues": ["IMAGE_BLURRY"],
     "errorMessage": null
   }

   // –ü—Ä–∏–º–µ—Ä: –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
   {
     "requestId": "c2a8a4e3-a7e7-4b2b-8b3d-6f2a0f8b1d9c",
     "status": "COMPLETED",
     "overallStatus": "MANUAL_REVIEW",
     "createdAt": "2025-05-04T14:15:10.300000",
     "processedAt": "2025-05-04T14:15:12.900000",
     "processingTime": 2.600,
     "checks": [
         { "check": "accessories", "status": "NEEDS_REVIEW", "reason": "headwear detected", "details": { "accessories_list": ["headwear"] } },
         // –î—Ä—É–≥–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ PASSED –∏–ª–∏ SKIPPED
     ],
     "issues": ["ACCESSORIES_HEADWEAR_DETECTED"],
     "errorMessage": null
   }
   ```

4. –°—Ç–∞—Ç—É—Å `FAILED` (–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏):
   ```json
   {
     "requestId": "b1c7c3f2-b6e6-4a1a-7a2c-5e1b9e7a0c8b",
     "status": "FAILED",
     "overallStatus": null, // –∏–ª–∏ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ –º–æ–º–µ–Ω—Ç –æ—à–∏–±–∫–∏
     "createdAt": "2025-05-04T14:18:05.000000",
     "processedAt": "2025-05-04T14:18:06.200000",
     "processingTime": 1.200,
     "checks": [ /* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–æ –º–æ–º–µ–Ω—Ç–∞ –æ—à–∏–±–∫–∏ */ ],
     "issues": [ /* –ü—Ä–æ–±–ª–µ–º—ã, –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –¥–æ –æ—à–∏–±–∫–∏ */ ],
     "errorMessage": "CVProcessingError: –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏"
   }
   ```

–û—Ç–≤–µ—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö:

1. –ó–∞–ø—Ä–æ—Å –Ω–µ –Ω–∞–π–¥–µ–Ω (404 Not Found):
   ```json
   { "detail": "–ó–∞–ø—Ä–æ—Å –Ω–µ –Ω–∞–π–¥–µ–Ω" }
   ```
2. –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (500 Internal Server Error):
   ```json
   { "detail": "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏" }
   ```

### –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π –æ—Ç–≤–µ—Ç–∞

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|-------------|
| `requestId` | —Å—Ç—Ä–æ–∫–∞ | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–∞ |
| `status` | —Å—Ç—Ä–æ–∫–∞ | –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ (`PENDING`, `PROCESSING`, `COMPLETED`, `FAILED`) |
| `overallStatus` | —Å—Ç—Ä–æ–∫–∞ \| null | –ò—Ç–æ–≥–æ–≤—ã–π –≤–µ—Ä–¥–∏–∫—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (`APPROVED`, `REJECTED`, `MANUAL_REVIEW`). –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `status` —Ä–∞–≤–Ω–æ–º `COMPLETED` |
| `createdAt` | —Å—Ç—Ä–æ–∫–∞ | –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ (ISO 8601 UTC) |
| `processedAt` | —Å—Ç—Ä–æ–∫–∞ \| null | –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (ISO 8601 UTC) |
| `processingTime` | —á–∏—Å–ª–æ \| null | –í—Ä–µ–º—è, –∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö) |
| `checks` | –º–∞—Å—Å–∏–≤ \| null | –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∫–∞–∂–¥–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ |
| `issues` | –º–∞—Å—Å–∏–≤ \| null | –°–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø—Ä–æ–±–ª–µ–º, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–æ–∫ (–æ–±—ã—á–Ω–æ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ `overallStatus` –Ω–µ —Ä–∞–≤–µ–Ω `APPROVED`) |
| `errorMessage` | —Å—Ç—Ä–æ–∫–∞ \| null | –¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ `status` —Ä–∞–≤–µ–Ω `FAILED` |

## –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫

–í —Ç–∞–±–ª–∏—Ü–µ –Ω–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ, –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–π —Å–µ—Ä–≤–∏—Å–æ–º. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏ –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `app/config/checks_config.yaml`.

| ID –ø—Ä–æ–≤–µ—Ä–∫–∏ | –û–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è | –ê–ª–≥–æ—Ä–∏—Ç–º/–ö—Ä–∏—Ç–µ—Ä–∏–∏ | –í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã | –ü—Ä–∏–º–µ—Ä –¥–µ—Ç–∞–ª–µ–π |
|----------|-------------------------|-------------------|-------------------|-----------------|
| `fileFormat` | –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–∞ (`.jpg`, `.jpeg`, `.png`, `.webp`, `.bmp`, `.tiff`) –∏ MIME-—Ç–∏–ø–∞ | `PASSED`, `FAILED` | `"jpeg"` |
| `fileSize` | –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å –ª–∏–º–∏—Ç | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `max_size_bytes` –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | `PASSED`, `FAILED` | `"512KB"` (PASSED) |
| `dimensions` | –†–∞–∑–º–µ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ X√óY | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã –∏ –≤—ã—Å–æ—Ç—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ `min_width` –∏ `min_height` | `PASSED`, `FAILED` | `"1200x1600px"` (PASSED) |
| `colorMode` | –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–≤–µ—Ç–Ω—ã–º | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è 3 —Ü–≤–µ—Ç–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–æ–≤. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –∞–Ω–∞–ª–∏–∑ —Å—Ä–µ–¥–Ω–µ–π –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç–∏ –≤ HSV (`> grayscale_saturation_threshold`) | `PASSED`, `FAILED` | `"Color"` (PASSED) |
| `realPhoto` | –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–µ–∞–ª—å–Ω–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–µ–π | –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑: –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã (Sobel), —Ç–µ–∫—Å—Ç—É—Ä–∞ (Laplacian), –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞, —ç–Ω–µ—Ä–≥–∏—è FFT, –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç—å. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ —Å –ø–æ—Ä–æ–≥–∞–º–∏ (`gradient_*`, `texture_*` –∏ —Ç.–¥.) | `PASSED`, `FAILED` | `{ "gradient_mean": 30.1, "texture_var_ratio": 0.6, ... }` |
| `faceCount` | –ù–∞ —Ñ–æ—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–æ–≤–Ω–æ –æ–¥–Ω–æ –ª–∏—Ü–æ | –î–µ—Ç–µ–∫—Ü–∏—è –ª–∏—Ü (YuNet/DNN/Haar), –ø–æ–¥—Å—á–µ—Ç –ª–∏—Ü —Å `confidence > face_confidence_threshold`. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å `min_count`/`max_count` (–æ–±—ã—á–Ω–æ 1) | `PASSED`, `FAILED` | `{ "count": 1, "required_min": 1, "required_max": 1, "face_confidences": [0.98] }` |
| `facePosition` | –õ–∏—Ü–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–æ –∏ –∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–æ | –ê–Ω–∞–ª–∏–∑ bbox –ª–∏—Ü–∞: `face_min/max_area_ratio`, `face_center_tolerance` (–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞), `min_margin_ratio` (–æ—Ç—Å—Ç—É–ø—ã –æ—Ç –∫—Ä–∞–µ–≤), `min_width/height_ratio` | `PASSED`, `FAILED`, `SKIPPED` | `{ "face_bbox": [210,300,600,800], "face_area_ratio": 0.3, "center_offset_x_px": 5.0, ... }` |
| `facePose` | –õ–∏—Ü–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∞–Ω—Ñ–∞—Å | –û—Ü–µ–Ω–∫–∞ —É–≥–ª–æ–≤ Yaw/Pitch/Roll –ø–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–∞–º —Å –ø–æ–º–æ—â—å—é `solvePnP`. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Å `max_yaw`/`max_pitch`/`max_roll` | `PASSED`, `FAILED`, `NEEDS_REVIEW`, `SKIPPED` | `{ "yaw": -3.5, "pitch": 1.2, "roll": -0.8, "thresholds": { ... } }` |
| `blurriness` | –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–∏—Ü–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–µ—Ç–∫–∏–º | –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–∏—Å–ø–µ—Ä—Å–∏–∏ –õ–∞–ø–ª–∞—Å–∏–∞–Ω–∞ –¥–ª—è –æ–±–ª–∞—Å—Ç–∏ –ª–∏—Ü–∞. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å `laplacian_threshold` | `PASSED`, `FAILED`, `NEEDS_REVIEW`, `SKIPPED` | `{ "laplacian_variance": 210.5 }` |
| `redEye` | –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ "–∫—Ä–∞—Å–Ω—ã—Ö –≥–ª–∞–∑" | –ü–æ–∏—Å–∫ –∫—Ä–∞—Å–Ω—ã—Ö –ø–∏–∫—Å–µ–ª–µ–π (`> red_threshold`, `> red_ratio_threshold` * G/B) –≤ –æ–±–ª–∞—Å—Ç—è—Ö –∑—Ä–∞—á–∫–æ–≤ (—á–µ—Ä–µ–∑ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—ã). –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–ª–∏ —Ç–∞–∫–∏—Ö –ø–∏–∫—Å–µ–ª–µ–π (`> min_red_pixel_ratio`) | `PASSED`, `FAILED`, `SKIPPED` | `{ "affected_eyes": [] }` (PASSED) |
| `background` | –§–æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–Ω–æ—Ä–æ–¥–Ω—ã–º –∏ —Å–≤–µ—Ç–ª—ã–º | –ê–Ω–∞–ª–∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–Ω–µ –ª–∏—Ü–∞: `background_std_dev_threshold` (–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç—å), `grad_mean_threshold` / `edge_density_threshold` (—Ç–µ–∫—Å—Ç—É—Ä—ã), `is_dark_threshold` (—è—Ä–∫–æ—Å—Ç—å) | `PASSED`, `FAILED`, `NEEDS_REVIEW`, `SKIPPED` | `{ "background_mean": 180.0, "background_std_dev": 8.5, "gradient_mean": 5.2, ... }` |
| `extraneousObjects` | –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –ª—é–¥–µ–π/–æ–±—ä–µ–∫—Ç–æ–≤ | –î–µ—Ç–µ–∫—Ü–∏—è –ª—é–¥–µ–π (HOG) –∏ –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–Ω—Ç—É—Ä–æ–≤ (Canny, `min_object_contour_area_ratio`) –Ω–∞ —Ñ–æ–Ω–µ | `PASSED`, `FAILED` (–ª—é–¥–∏), `NEEDS_REVIEW` (–æ–±—ä–µ–∫—Ç—ã), `SKIPPED` | `{ "people_detected_bboxes": [], "large_contours_info": [] }` (PASSED) |
| `accessories` | –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–µ—Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –∞–∫—Å–µ—Å—Å—É–∞—Ä–æ–≤ | –î–µ—Ç–µ–∫—Ü–∏—è: –æ—á–∫–∏ (Haar), –≥–æ–ª–æ–≤–Ω—ã–µ —É–±–æ—Ä—ã (—Ç–µ–∫—Å—Ç—É—Ä–∞ –ª–±–∞), —Ä—É–∫–∏ (—Ü–≤–µ—Ç –∫–æ–∂–∏ –ø–æ –±–æ–∫–∞–º), –±–æ—Ä–æ–¥–∞/—É—Å—ã (—Ç–µ–∫—Å—Ç—É—Ä–∞ –ø–æ–¥–±–æ—Ä–æ–¥–∫–∞) | `PASSED`, `NEEDS_REVIEW`, `SKIPPED` | `{ "accessories_list": [] }` (PASSED) |
| `lighting` | –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ –ª–∏—Ü–∞ | –ê–Ω–∞–ª–∏–∑ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã —è—Ä–∫–æ—Å—Ç–∏ –ª–∏—Ü–∞: `underexposure_threshold`, `overexposure_threshold`, `low_contrast_threshold`, `shadow/highlight_ratio_threshold` | `PASSED`, `FAILED`, `NEEDS_REVIEW`, `SKIPPED` | `{ "mean_brightness": 145.0, "std_dev_brightness": 60.0, "shadow_pixel_ratio": 0.02, ... }` |

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –∫–æ–º–ø–ª–µ–∫—Ç –ø–æ—Å—Ç–∞–≤–∫–∏ –≤—Ö–æ–¥–∏—Ç —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ —Å –Ω–∞–±–æ—Ä–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

### –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç check_photos.py

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

1. –ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ª—é–±–æ–º –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (JPEG, PNG, WebP, BMP, TIFF) –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `tests/photos/`.
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω.
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:
   ```bash
   python tests/scripts/check_photos.py [–ø–∞—Ä–∞–º–µ—Ç—Ä—ã]
   ```

**–£–ª—É—á—à–µ–Ω–∏—è –≤ –≤–µ—Ä—Å–∏–∏ 2.1:**

- **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –æ—à–∏–±–∫–∞ "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏"** - —Ç–µ–ø–µ—Ä—å 100% –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ JPEG, PNG, WebP, BMP, TIFF –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ REJECTED —Å—Ç–∞—Ç—É—Å–∞
- **–ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ—Ç–æ–∫–æ–≤
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å health check** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è—Ö —Å–µ—Ä–≤–∏—Å–∞
- **–£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã** - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–°–∫—Ä–∏–ø—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—é, –æ–∂–∏–¥–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (—Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏) –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π HTML-–æ—Ç—á–µ—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `tests/reports/`. –û—Ç—á–µ—Ç –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∏—Ç–æ–≥–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –ø—Ä–∏—á–∏–Ω–∞–º–∏ –∏ –¥–µ—Ç–∞–ª–∏ –ø–æ –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—å –æ—Ç—á–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|-----------|-------------|---------------|
| `--api-url` | URL –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ | `http://localhost:8000` |
| `--photo-dir` | –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ | `../photos` |
| `--report-dir` | –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è HTML-–æ—Ç—á–µ—Ç–æ–≤ | `../reports` |
| `--max-attempts` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å | 30 |
| `--delay` | –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (—Å–µ–∫—É–Ω–¥—ã) | 1 |
| `--threads` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ | 8 |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

**–í–µ—Ä—Å–∏—è 2.1** –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—É—é —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é —Ç–µ—Å—Ç–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

```
tests/
‚îú‚îÄ‚îÄ unit/                   # –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ conftest.py        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è unit-—Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ test_api.py        # –¢–µ—Å—Ç—ã API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ test_cv_checks.py  # –¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä–æ–∫ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è
‚îú‚îÄ‚îÄ integration/           # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ conftest.py        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ test_integration.py # –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ check_photos.py    # –°–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
‚îú‚îÄ‚îÄ photos/                # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
‚îî‚îÄ‚îÄ reports/               # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ –æ—Ç—á–µ—Ç—ã
```

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
make test

# –¢–æ–ª—å–∫–æ unit-—Ç–µ—Å—Ç—ã
make test-unit

# –¢–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã  
make test-integration

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
make test-photos
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ:

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|-----------|---------|
| –í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ | FastAPI, Uvicorn | –í–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ API-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | SQLAlchemy, Alembic, Psycopg2 | –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å PostgreSQL –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ |
| –ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ | OpenCV (opencv-contrib-python), NumPy | –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | PyYAML | –ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ |
| –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ | Python-multipart | –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ |

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `requirements.txt`.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

–°–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å:

1. –≠–Ω–¥–ø–æ–∏–Ω—Ç `POST /validate` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∞–π–ª, –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Ñ–æ—Ä–º–∞—Ç, —Ä–∞–∑–º–µ—Ä), —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (`app/storage`) –∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (`app/db`) —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `PENDING`.

2. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ—á–µ—Ä–µ–¥—å (`asyncio.Queue` –≤ `app/worker/tasks.py`).

3. –§–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å (`start_worker`) –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∑–∞–¥–∞—á–∏ –∏–∑ –æ—á–µ—Ä–µ–¥–∏.

4. –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å:
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–ø—Ä–æ—Å–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ `PROCESSING`
   - –°—á–∏—Ç—ã–≤–∞–µ—Ç —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –î–µ–∫–æ–¥–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é OpenCV
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–æ–∫ —á–µ—Ä–µ–∑ `CheckRunner` (`app/cv/checks/runner.py`)
   - `CheckRunner` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `CheckRegistry` (`app/cv/checks/registry.py`) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —Ç—Ä–µ–±—É–µ–º—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ –∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ `app/config/checks_config.yaml`
   - –ö–∞–∂–¥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (`app/cv/checks/*/*.py`) –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ–π –∞–Ω–∞–ª–∏–∑ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
   - –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å—é —Å –ø–æ–º–æ—â—å—é —Å–µ–º–∞—Ñ–æ—Ä–∞ (`app/core/concurrency.py`)

5. –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ (–∏–ª–∏ –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏) —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏—Ç–æ–≥–æ–≤—ã–º —Å—Ç–∞—Ç—É—Å–æ–º (`COMPLETED` –∏–ª–∏ `FAILED`), —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫ (`checks`), —Å–ø–∏—Å–∫–æ–º –ø—Ä–æ–±–ª–µ–º (`issues`), –≤—Ä–µ–º–µ–Ω–µ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ (`processingTime`) –∏/–∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ (`errorMessage`).

6. –í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

7. –≠–Ω–¥–ø–æ–∏–Ω—Ç `GET /results/{requestId}` –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ö –∫–ª–∏–µ–Ω—Ç—É.

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ (app/config/checks_config.yaml)

–≠—Ç–æ—Ç —Ñ–∞–π–ª —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º –º–µ—Å—Ç–æ–º –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞. –° –µ–≥–æ –ø–æ–º–æ—â—å—é –º–æ–∂–Ω–æ:

- –í–∫–ª—é—á–∞—Ç—å/–æ—Ç–∫–ª—é—á–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (`enabled: true/false`)
- –û–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ (`check_order`)
- –ó–∞–¥–∞–≤–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø–æ—Ä–æ–≥–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Ä–∞–∑–¥–µ–ª `checks.<check_id>.params`)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–µ—Ä—ã–≤–∞—Ç—å –ª–∏ —Ü–µ–ø–æ—á–∫—É –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –Ω–µ—É–¥–∞—á–∏ (`system.stop_on_failure`)

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ `app/cv/checks` –æ–Ω –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∏, –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `checks_config.yaml`, –¥–æ–±–∞–≤–ª–µ–Ω —Ç—É–¥–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–∏—Å–∞.

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Python-—Ñ–∞–π–ª –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `app/cv/checks/` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `app/cv/checks/quality/new_check.py`

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è:

| –ü—Ä–æ–±–ª–µ–º–∞ | –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è |
|-------|-------------------|
| –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è / –û—à–∏–±–∫–∏ Docker Compose | - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ –∑–∞–ø—É—â–µ–Ω—ã<br>- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç—ã 8000 –∏ 5432 –Ω–µ –∑–∞–Ω—è—Ç—ã –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏<br>- –ò–∑—É—á–∏—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (`docker-compose logs app` –∏ `docker-compose logs db`) |
| –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–ª–∏ –∑–∞–ø—É—Å–∫–µ | - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `db` (PostgreSQL) —É—Å–ø–µ–ª –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –¥–æ `app`. Docker Compose –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –æ–∂–∏–¥–∞–Ω–∏–µ, –Ω–æ –≤ —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã<br>- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `DATABASE_URL` –≤ `docker-compose.yml` |
| –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π (FileNotFoundError, Download Error) | - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `app` –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π, –µ—Å–ª–∏ –æ–Ω–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ª–æ–∫–∞–ª—å–Ω–æ<br>- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `models/`, –µ—Å–ª–∏ –≤—ã –º–æ–Ω—Ç–∏—Ä—É–µ—Ç–µ –µ–µ –≤—Ä—É—á–Ω—É—é |
| –û—à–∏–±–∫–∞ `Failed to decode image` | - –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –ø–æ–≤—Ä–µ–∂–¥–µ–Ω –∏–ª–∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º<br>- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (JPEG, PNG, WebP, BMP, TIFF) |
| –û—à–∏–±–∫–∞ "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏" (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ v2.1) | - –û–±–Ω–æ–≤–∏—Ç–µ—Å—å –¥–æ –≤–µ—Ä—Å–∏–∏ 2.1+<br>- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å health endpoint (`/health`)<br>- –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Å–∫—Ä–∏–ø—Ç–µ |
| OpenCV "releaseReference" –æ—à–∏–±–∫–∏ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ v2.1) | - –û–±–Ω–æ–≤–∏—Ç–µ—Å—å –¥–æ –≤–µ—Ä—Å–∏–∏ 2.1+ - –ø—Ä–æ–±–ª–µ–º–∞—Ç–∏—á–Ω—ã–µ DNN –º–æ–¥–µ–ª–∏ –±—ã–ª–∏ –∑–∞–º–µ–Ω–µ–Ω—ã<br>- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Ö —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å |
| –¢–µ—Å—Ç—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è | - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `make test` –∏–ª–∏ `pytest tests/unit/` –∏ `pytest tests/integration/`<br>- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏<br>- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–µ—Å—Ç–æ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞ |

## –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

### –í–µ—Ä—Å–∏—è 2.1 - 02-01-2025

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏:**

- **üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏"**
  - –û–±–Ω–æ–≤–ª–µ–Ω health check –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Å—Ç–∞—Ç—É—Å–∞ `warning`
  - –£–≤–µ–ª–∏—á–µ–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å 6 –¥–æ 30 —Å–µ–∫—É–Ω–¥
  - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ 400-—Å—Ç–∞—Ç—É—Å
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ (`overallStatus` –≤–º–µ—Å—Ç–æ `status`)

- **üõ†Ô∏è –†–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ OpenCV DNN "releaseReference"**
  - –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –ª–∏—Ü –±–µ–∑ –ø—Ä–æ–±–ª–µ–º–∞—Ç–∏—á–Ω—ã—Ö DNN –º–æ–¥–µ–ª–µ–π
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ YuNet –∏ Haar Cascade –º–µ—Ç–æ–¥—ã
  - –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ —Å–±–æ–∏ OpenCV –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

- **üì∏ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ PNG, WebP, BMP, TIFF —Ñ–æ—Ä–º–∞—Ç–æ–≤ 
  - –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è MIME-—Ç–∏–ø–æ–≤ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤
  - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–≥–æ—Ñ–æ—Ä–º–∞—Ç–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫

**–£–ª—É—á—à–µ–Ω–∏—è UX –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏:**

- **üìä –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π**
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—è `reason` –¥–ª—è –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
  - –ü–æ–∫–∞–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –∏–∑ –º–∞—Å—Å–∏–≤–∞ `issues`
  - –ü–æ–Ω—è—Ç–Ω—ã–µ —á–µ–ª–æ–≤–µ—á–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∫–æ–¥–æ–≤

- **‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞**
  - –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–¥–æ 8 –ø–æ—Ç–æ–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
  - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –∏ –∑–∞–¥–µ—Ä–∂–∫–∏
  - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–æ–∫—Ä–∞—â–µ–Ω–æ –≤ 3-4 —Ä–∞–∑–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**

- **üß™ –ü–æ–ª–Ω–∞—è —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤**
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `tests/unit/` –∏ `tests/integration/`
  - 27 –º–æ–¥—É–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –∏ 7 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
  - –û—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç–µ—Å—Ç–æ–≤
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SQLite –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ PostgreSQL –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

- **üåç –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —è–∑—ã–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**
  - –ü–µ—Ä–µ–≤–æ–¥ –≤—Å–µ—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
  - –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
  - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º PEP 257

- **üîÑ CI/CD —É–ª—É—á—à–µ–Ω–∏—è**
  - –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ GitHub Actions workflows
  - –†–∞–∑–¥–µ–ª—å–Ω—ã–µ —ç—Ç–∞–ø—ã –¥–ª—è unit –∏ integration —Ç–µ—Å—Ç–æ–≤
  - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –º–∞–∫—Ä–æ—Å–µ Makefile

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- 0% –æ—à–∏–±–æ–∫ "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏" 
- 100% —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å OpenCV –æ–ø–µ—Ä–∞—Ü–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 5 —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –í—Å–µ REJECTED —Å—Ç–∞—Ç—É—Å—ã —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏
- 3-4x —É–ª—É—á—à–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –í–µ—Ä—Å–∏—è 2.0 - 03-05-2025

- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `asyncio.Queue`. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –º–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫ (`app/cv/checks`) —Å —Ä–µ–µ—Å—Ç—Ä–æ–º –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º.
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤–æ –≤–Ω–µ—à–Ω–∏–π YAML-—Ñ–∞–π–ª (`app/config/checks_config.yaml`).
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —É–ª—É—á—à–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ (YuNet, DNN, LBF Facemark) –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ª–∏—Ü –∏ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤. –î–æ–±–∞–≤–ª–µ–Ω—ã/—É—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω—ã –∞–ª–≥–æ—Ä–∏—Ç–º—ã –ø—Ä–æ–≤–µ—Ä–æ–∫ (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç—å, —Ñ–æ–Ω, –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã, –æ—Å–≤–µ—â–µ–Ω–∏–µ –∏ –¥—Ä.). –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –º–æ–¥–µ–ª–µ–π.
- –î–æ–±–∞–≤–ª–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ —Å–µ–º–∞—Ñ–æ—Ä.
- –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π HTML-–æ—Ç—á–µ—Ç–∞.
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –¥–æ–±–∞–≤–ª–µ–Ω `opencv-contrib-python`.
- –£–ª—É—á—à–µ–Ω–∞ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–æ–≤ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö.

### –í–µ—Ä—Å–∏—è 1.0 - 30-04-2025

- –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `threading`).
- –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–∏–∫–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è.
- –ë–∞–∑–æ–≤—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä –ª–∏—Ü Haar Cascade.
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –ø—Ä–æ–≤–µ—Ä–æ–∫ —Å –∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.
- –¢–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Å–∫—Ä–∏–ø—Ç–µ.

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT